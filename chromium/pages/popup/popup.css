body {
    width: 760px;
}

.active > #choose > #active > :first-child,
.waiting > #choose > #waiting > :first-child,
.paused > #choose > #paused > :first-child,
.complete > #choose > #complete > :first-child,
.removed > #choose > #removed > :first-child,
.error > #choose > #error > :first-child {
    visibility: hidden;
}

.active > #queue > #active,
.waiting > #queue > #waiting,
.paused > #queue > #paused,
.complete > #queue > #complete,
.removed > #queue > #removed,
.error > #queue > #error {
    display: none;
}

#choose {
    position: absolute;
    display: none;
    border-width: 1px;
    border-style: solid;
    top: 38px;
    z-index: 999999;
}

.queue #choose {
    display: block;
}

#choose > :hover {
    filter: contrast(75%);
}

#choose > :active {
    filter: contrast(45%);
}

#choose > * > * {
    padding: 5px;
}

#choose > * > :first-child {
    text-align: center;
    visibility: visible;
}

#menu, #status, #status > * {
    display: inline-block;
}

#status {
    margin: 0px auto;
}

#status > :nth-child(4) {
    margin-left: auto;
}

#status > * > :nth-child(1) {
    border-style: solid;
    border-width: 1px;
}

#status > * > * {
    padding: 3px;
}

#queue {
    height: 537px;
    overflow-y: auto;

    #complete input, #removed input, #error input,
    #complete select, #removed select, #error select,
    .http [name="max-upload-limit"] {
        pointer-events: none;
        filter: contrast(25%);
    }

    .http [data-p2p], .p2p [data-http], #retry_btn, #save_btn,
    #complete #options button, #removed #options button, #error #options button {
        display: none;
    }

    #removed .http #retry_btn, #error .http #retry_btn {
        display: inline-block;
    }

    #active #meter {
        background-color: #4cc;
    }

    #waiting #meter {
        background-color: #48c;
    }

    #paused #meter {
        background-color: #488;
    }

    #removed #meter, #error #meter {
        background-color: #844;
    }

    #active #meter > #ratio, .ready {
        background-color: #44c;
    }

    #waiting #meter > #ratio, #paused #meter > #ratio {
        background-color: #cc4;
    }

    #complete #meter, #complete #meter > #ratio {
        background-color: #4c4;
    }

    #removed #meter > #ratio, #error #meter > #ratio {
        background-color: #c48;
    }

    #meter, .ready {
        color: #fff;
    }
}

#queue > :not(#complete, #removed, #error) {
    #meter:active, #meter > #ratio:active,
    .p2p .file > :nth-child(1):active {
        filter: contrast(45%);
    }
}

#queue .http .uri > :nth-child(1):active {
    filter: contrast(45%);
}

#download::after, #upload::after {
    content: "B/s";
}

#remote::after, #local::after, #size::after {
    content: "B";
}

#ratio::after {
    content: "%";
}

.session {
    border-width: 1px;
    border-style: outset;
    padding: 3px;
    margin-bottom: 5px;
    display: grid;
    grid-template-columns: repeat(3, calc(33.33% - 7.5px)) 22.5px;

    #title {
        grid-area: 1 / 1 / 1 / 4;
    }

    #menu {
        grid-area: 1 / 4 / 4 / 5;
    }

    #menu > button {
        font-size: 12px;
        padding: 2px;
    }

    #meter {
        grid-area: 4 / 1 / 4 / 5;
        text-align: center;
    }

    #options {
        grid-area: 5 / 1 / 5 / 5;
        display: none;
    }

    .menu {
        margin-top: 10px;
    }

    .file > *, .uri > * {
        border-width: 1px;
        border-style: solid;
        height: 21px;
        padding: 3px;
        overflow: hidden;
        white-space: nowrap;
    }

    .file > :not(:nth-child(2)), .uri > :nth-child(n+2) {
        text-align: center;
        padding: 3px 0px;
    }

    .file {
        display: grid;
        grid-template-columns: 40px auto 80px 60px;
    }

    .uri {
        display: grid;
        grid-template-columns: auto 40px 40px;
    }

    #save_btn {
        top: -10px;
        padding: 4px;
    }
}

.session > :nth-last-child(n+3) {
    height: 24px;
}

.session.extra > #options {
    display: block;
}

.queue #queue_btn, .session.extra #detail_btn {
    border-style: inset;
}

.queue #queue_btn:active, .session.extra #detail_btn:active {
    border-style: outset;
}